<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Currency Converter by alexprengere</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/alexprengere/currencyconverter">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/alexprengere/currencyconverter/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/alexprengere/currencyconverter/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Currency Converter</h1>
          <p>A Python currency converter using the European Central Bank data.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/alexprengere">alexprengere</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <p>This is a currency converter that uses historical rates against a
reference currency (Euro).</p>

<h2>
<a id="currency-data-sources" class="anchor" href="#currency-data-sources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Currency data sources</h2>

<p>The default source is the <a href="http://www.ecb.int/">European Central Bank</a>.
This is the ECB historical rates for 42 currencies against the Euro
since 1999. It can be downloaded here:
<a href="http://www.ecb.int/stats/eurofxref/eurofxref-hist.zip">eurofxref-hist.zip</a>.
The converter can use different sources as long as the format is the
same.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>You can install directly after cloning:</p>

<div class="highlight highlight-source-shell"><pre>$ python setup.py install --user</pre></div>

<p>Or use the Python package:</p>

<div class="highlight highlight-source-shell"><pre>$ pip install --user currencyconverter</pre></div>

<h2>
<a id="command-line-tool" class="anchor" href="#command-line-tool" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Command line tool</h2>

<p>After installation, you should have <code>currency_converter</code> in your
<code>$PATH</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ currency_converter 100 USD --to EUR
<span class="pl-s"><span class="pl-pds">"</span>100.000 USD<span class="pl-pds">"</span></span> is <span class="pl-s"><span class="pl-pds">"</span>87.881 EUR<span class="pl-pds">"</span></span> on 2016-04-20</pre></div>

<h2>
<a id="python-api" class="anchor" href="#python-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Python API</h2>

<p>Create once the currency converter object:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> currency_converter <span class="pl-k">import</span> CurrencyConverter
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c <span class="pl-k">=</span> CurrencyConverter()</pre></div>

<p>Convert from <code>EUR</code> to <code>USD</code> using the last available rate:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>EUR<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>)
<span class="pl-c1">137.5</span></pre></div>

<p>Default target currency is <code>EUR</code>:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>EUR<span class="pl-pds">'</span></span>)
<span class="pl-c1">100.0</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>)
<span class="pl-c1">72.67</span></pre></div>

<p>You can change the date of the rate:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-k">from</span> datetime <span class="pl-k">import</span> date <span class="pl-c"># datetime works too</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>EUR<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>, <span class="pl-v">date</span><span class="pl-k">=</span>date(<span class="pl-c1">2013</span>, <span class="pl-c1">3</span>, <span class="pl-c1">21</span>))
<span class="pl-c1">129.1</span></pre></div>

<h3>
<a id="fallbacks" class="anchor" href="#fallbacks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fallbacks</h3>

<p>Some rates are missing:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>BGN<span class="pl-pds">'</span></span>, <span class="pl-v">date</span><span class="pl-k">=</span>date(<span class="pl-c1">2010</span>, <span class="pl-c1">11</span>, <span class="pl-c1">21</span>))
Traceback (most recent call last):
RateNotFoundError: <span class="pl-c1">BGN</span> has no rate <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">'</span>2010-11-21<span class="pl-pds">'</span></span></pre></div>

<p>But we have a fallback mode for those, using a linear interpolation of
the closest known rates, as long as you ask for a date within the
currency date bounds:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c <span class="pl-k">=</span> CurrencyConverter(<span class="pl-v">fallback_on_missing_rate</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>BGN<span class="pl-pds">'</span></span>, <span class="pl-v">date</span><span class="pl-k">=</span>date(<span class="pl-c1">2010</span>, <span class="pl-c1">11</span>, <span class="pl-c1">21</span>))
<span class="pl-c1">51.12</span></pre></div>

<p>We also have a fallback mode for dates outside the currency bounds:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c <span class="pl-k">=</span> CurrencyConverter()
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>EUR<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>, <span class="pl-v">date</span><span class="pl-k">=</span>date(<span class="pl-c1">1986</span>, <span class="pl-c1">2</span>, <span class="pl-c1">2</span>))
Traceback (most recent call last):
RateNotFoundError: <span class="pl-s"><span class="pl-pds">'</span>1986-02-02<span class="pl-pds">'</span></span> <span class="pl-k">not</span> <span class="pl-k">in</span> <span class="pl-c1">USD</span> bounds <span class="pl-s"><span class="pl-pds">'</span>1999-01-04/2016-04-20<span class="pl-pds">'</span></span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> 
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c <span class="pl-k">=</span> CurrencyConverter(<span class="pl-v">fallback_on_wrong_date</span><span class="pl-k">=</span><span class="pl-c1">True</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>EUR<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>, <span class="pl-v">date</span><span class="pl-k">=</span>date(<span class="pl-c1">1986</span>, <span class="pl-c1">2</span>, <span class="pl-c1">2</span>)) <span class="pl-c"># fallback to 1999-01-04</span>
<span class="pl-c1">117.89</span></pre></div>

<h3>
<a id="other-attributes" class="anchor" href="#other-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other attributes</h3>

<ul>
<li>  <code>bounds</code> lets you know the first and last available date for each
currency</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> first_date, last_date <span class="pl-k">=</span> c.bounds[<span class="pl-s"><span class="pl-pds">'</span>USD<span class="pl-pds">'</span></span>]
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> first_date
datetime.date(<span class="pl-c1">1999</span>, <span class="pl-c1">1</span>, <span class="pl-c1">4</span>)
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> last_date
datetime.date(<span class="pl-c1">2016</span>, <span class="pl-c1">11</span>, <span class="pl-c1">1</span>)</pre></div>

<ul>
<li>  <code>currencies</code> is a set containing all available currencies</li>
</ul>

<div class="highlight highlight-source-python"><pre><span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.currencies
<span class="pl-c1">set</span>([<span class="pl-s"><span class="pl-pds">'</span>SGD<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>CAD<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>SEK<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>GBP<span class="pl-pds">'</span></span>, <span class="pl-c1">...</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>AAA<span class="pl-pds">'</span></span> <span class="pl-k">in</span> c.currencies
<span class="pl-c1">False</span>
<span class="pl-k">&gt;&gt;</span><span class="pl-k">&gt;</span> c.convert(<span class="pl-c1">100</span>, <span class="pl-s"><span class="pl-pds">'</span>AAA<span class="pl-pds">'</span></span>)
Traceback (most recent call last):
<span class="pl-c1">ValueError</span>: <span class="pl-c1">AAA</span> <span class="pl-k">is</span> <span class="pl-k">not</span> a supported currency</pre></div>

<p>Finally, you can use your own currency file, as long as it has the same
format (ECB):</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"># Load the packaged data (might not be up to date)</span>
c <span class="pl-k">=</span> CurrencyConverter()

<span class="pl-c"># Load the up to date full history</span>
c <span class="pl-k">=</span> CurrencyConverter(<span class="pl-s"><span class="pl-pds">'</span>http://www.ecb.int/stats/eurofxref/eurofxref-hist.zip<span class="pl-pds">'</span></span>)

<span class="pl-c"># Load only the latest rates (single day data source)</span>
c <span class="pl-k">=</span> CurrencyConverter(<span class="pl-s"><span class="pl-pds">'</span>http://www.ecb.europa.eu/stats/eurofxref/eurofxref.zip<span class="pl-pds">'</span></span>)

<span class="pl-c"># Load your custom file</span>
c <span class="pl-k">=</span> CurrencyConverter(<span class="pl-s"><span class="pl-pds">'</span>./path/to/currency/file.csv<span class="pl-pds">'</span></span>)</pre></div>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
